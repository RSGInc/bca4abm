Old trip change in generalized costs

work_auto_vot = 10.0
nonwork_auto_vot = 6.0

work_transit_vot = 10.0
nonwork_transit_vot = 6.0

work_transitwait_vot = 15.0
nonwork_transitwait_vot = 9.0

work_tollcost_inclusion_factor = 1
nonwork_tollcost_inclusion_factor = 1

vector_autotime_old = basetrips_normal.expfactor*(basetrips_buildlos.transittime-basetrips_normal.transittime)*IF(basetrips_normal.pdpurp=1,work_auto_vot,nonwork_auto_vot)/60
vector_transittime_old = basetrips_normal.expfactor*(basetrips_buildlos.transittime-basetrips_normal.transittime)*IF(basetrips_normal.pdpurp=1,work_transit_vot,nonwork_transit_vot)/60
vector_transitwait_old =basetrips_normal.expfactor*(basetrips_buildlos.transitwait-basetrips_normal.transitwait)*IF(basetrips_normal.pdpurp=1,work_transitwait_vot, nonwork_transitwait_vot)/60
biketime
walktime
vector_tollcost_old = =basetrips_normal.expfactor*(basetrips_buildlos.tollcost-basetrips_normal.tollcost)*IF(basetrips_normal.pdpurp=1,work_tollcost_inclusion_factor,nonwork_tollcost_inclusion_factor)
fuelcost 
parkcost
farecost


New trip change in generalized costs

=buildtrips!$P2*(buildtrips!BC2-buildtrips_baselos!F2)*'bca calculations'!A$4/60

vector_autotime_new = buildtrips.hhexpfac*(buildtrips.autotime-buildtrips_baselos.autotime)*auto_vot/60
vector_transittime_new = buildtrips.hhexpfac*(buildtrips.transittime-buildtrips_baselos.transittime)*transit_vot/60
vector_biketime_new = buildtrips.hhexpfac*(buildtrips.biketime-buildtrips_baselos.biketime)*bike_vot/60
vector_walktime_new = buildtrips.hhexpfac*(buildtrips.walktime-buildtrips_baselos.walktime)*walk_vot/60
vector_travcost_new = buildtrips.hhexpfac*(buildtrips.travcost-buildtrips_baselos.travcost)*1

Benefits

scalar_autotime = =-0.5*sum(vector_autotime_old)-0.5*sum(vector_autotime_new)


notes:

there is no hhexpfac in sandag, or if there is, the bca calculation fails to account for it

currently assuming the hh and persons are common across scenarios, perhaps shouldn't? but how else are base/build cost differences computed if you can't join hh 
- seems strange to compare coc benefits if different coc populations in build and base scenario?

in bca, trips are exploded to one rec per partysize using tour_ij_person table

expfactor ignored in alt tables?

in sandag vot depends only on work/nonwork and ivt/ovt - is the additional complexity of depending on mode useful? lower for bike!

 transit is broken out into transittime, transitwalk, and transitwait, but there is no transitauto time for KNR? Shouldnâ€™t there be?

